# iStone-Admin

Golang 后端管理系统，工具链，项目规范。

## 要做什么？

要做一个，后端项目脚手架。

## 主要功能是什么？

后端脚手架，应该是结构简单，高效，便捷的工具。
我们技能利用这个脚手架快速开始项目开发，又能用此脚手架定义后端项目的通用规范。
我们期望将代码规范，代码组织架构，项目文档规范，数据库定义规范，用户管理策略等融入其中，
以便使其在日后的开发过程中对项目发展起到积极的推动作用。
它当然也提供必要的服务。 比如，用户和权限管理，代码模板，文件上传下载等都是它提供的服务。
我们同时考虑到它将在未来被使用，所以我们还期望它拥有云原生亲和性，可以无缝使用云原生架构部署服务。

#### Service端

- 用户管理：登录，注册，改密，注销，找回密码。
- 全限管理：灵活可靠的用户全权限配置。
- 前后端分离：后端管理系统需要和Service完全分离通过基于HTTP的RESTFul API 通信。
- 代码模版：可以在简单的配置后生成前后端代码。
- 文件上传下载：二进制文件的上传下载功能，由云存储服务提供。

#### Service Admin端

- Vue和React两套框架驱动
- 面包屑导航  
- 菜单管理
- 角色管理
- 用户管理
- API管理
- 配置文件管理：热更新配置文件
- 富文本编辑器：
- 全文搜索
- 条件搜索

## 第三方库

接下来面临的问题是项目开发过程中遇到的第三方支持库问题

## 服务端（Service）

#### 配置文件

使用 `go get -u github.com/spf13/viper` 解决，配置文件的读取问题。

#### 命令行

同时 命令行问题也迎刃而解，使用 `go get -u github.com/spf13/cobra` 解决。

#### 数据库

接下来，选择要支持的数据库，这里选择Mysql。
这里选择常用的对象关系映射库 [GORM](https://gorm.io/zh_CN/) 作为数据库的驱动 `go get -u gorm.io/driver/mysql` 加 `go get -u gorm.io/gorm`。

#### 认证和鉴权

提到认证，指的是用户通过一个 url 地址去访问Service的时候，如何确定用户是合法的。
鉴权是，用户在请求特定资源时判断其是否有相应的权限。
这里，使用 `github.com/dgrijalva/jwt-go` 解决鉴权。
使用 `github.com/casbin/casbin/v2` 解决权限认证问题。

鉴权这部分，还有一部分前段验证需要的**验证码**。
通常 Admin Web 端登录或者注册的时候要加入真人验证，通常使用验证码或者滑块解锁。
这里，我们先使用简单的验证码方式，用 `github.com/mojocn/base64Captcha` 实现。

#### 服务端路由

选择 [Gin](https://github.com/gin-gonic/gin) `github.com/gin-gonic/gin`。
它比较简单高效，易于理解。

#### 日志

这里使用大团队杰作 来自uber的zap：`go get -u go.uber.org/zap`

#### API文档

使用 ·github.com/swaggo/gin-swagger·，因为它能简单高效准确的实现开发时API文档定义。

#### 云存储

这里可能先选择七牛云或者阿里云的云存储服务。
他们的库地址分别为：·github.com/qiniu/api.v7/v7· 和 ·github.com/aliyun/aliyun-oss-go-sdk·
